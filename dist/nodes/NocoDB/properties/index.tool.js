"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.nocodbNodeProperties = void 0;
exports.nocodbNodeProperties = [
    {
        displayName: "Resource",
        name: "resource",
        type: "options",
        options: [{ name: "Row", value: "row" }],
        default: "row",
        description: "Row resource",
    },
    {
        displayName: "Operation",
        name: "operation",
        type: "options",
        displayOptions: { show: { resource: ["row"] } },
        options: [
            { name: "Create", value: "create", action: "Create row", description: "Insert a new row into the table" },
            { name: "Update", value: "update", action: "Update row", description: "Update fields of an existing row" },
            { name: "Delete", value: "delete", action: "Delete row", description: "Delete a row by ID" },
            { name: "Get", value: "get", action: "Get row", description: "Fetch a single row by ID" },
            { name: "Get All", value: "getAll", action: "List rows", description: "List rows with optional filters/sort" },
            { name: "Count", value: "count", action: "Count rows", description: "Count rows matching filters" },
        ],
        default: "getAll",
    },
    {
        displayName: "Workspace",
        name: "workspaceId",
        type: "resourceLocator",
        default: { mode: "list", value: "" },
        required: false,
        description: "Workspace (optional; choose 'No Workspace' if not applicable)",
        displayOptions: { show: { resource: ["row"] } },
        modes: [
            {
                displayName: "From List",
                name: "list",
                type: "list",
                placeholder: "Select workspace...",
                typeOptions: { searchListMethod: "getWorkspaces", searchable: true },
            },
            {
                displayName: "By ID or Name",
                name: "id",
                type: "string",
                placeholder: "Enter workspace ID or name...",
            },
        ],
    },
    {
        displayName: "Base",
        name: "baseId",
        type: "resourceLocator",
        default: { mode: "list", value: "" },
        required: true,
        description: "Base (project) identifier or slug",
        displayOptions: { show: { resource: ["row"] } },
        modes: [
            {
                displayName: "From List",
                name: "list",
                type: "list",
                placeholder: "Select a base...",
                typeOptions: { searchListMethod: "getBases", searchable: true, searchListDependsOn: ["workspaceId"] },
            },
            {
                displayName: "By ID or Name",
                name: "id",
                type: "string",
                placeholder: "Enter base ID or name...",
            },
        ],
    },
    {
        displayName: "Table",
        name: "tableId",
        type: "resourceLocator",
        default: { mode: "list", value: "" },
        required: true,
        description: "Table identifier or slug",
        displayOptions: { show: { resource: ["row"] } },
        modes: [
            {
                displayName: "From List",
                name: "list",
                type: "list",
                placeholder: "Select a table...",
                typeOptions: {
                    searchListMethod: "getTables",
                    searchable: true,
                    searchListDependsOn: ["baseId"],
                },
            },
            {
                displayName: "By ID or Name",
                name: "id",
                type: "string",
                placeholder: "Enter table ID or name...",
            },
        ],
    },
    {
        displayName: "Record ID",
        name: "recordId",
        type: "string",
        required: true,
        default: "",
        description: "Record ID",
        displayOptions: { show: { resource: ["row"], operation: ["get", "delete", "update"] } },
    },
    {
        displayName: "Fields",
        name: "fieldsCollection",
        type: "fixedCollection",
        typeOptions: { multipleValues: true },
        default: {},
        displayOptions: { show: { resource: ["row"], operation: ["create", "update"] } },
        options: [
            {
                name: "fieldValues",
                displayName: "Field",
                values: [
                    {
                        displayName: "Field",
                        name: "field",
                        type: "options",
                        default: "",
                        description: "Field to set",
                        typeOptions: {
                            loadOptionsMethod: "getFields",
                            loadOptionsDependsOn: ["tableId"],
                            filterOutValues: true,
                        },
                    },
                    {
                        displayName: "Value",
                        name: "value",
                        type: "string",
                        default: "",
                    },
                ],
            },
        ],
    },
    {
        displayName: "Get All",
        name: "returnAll",
        type: "boolean",
        default: true,
        displayOptions: { show: { resource: ["row"], operation: ["getAll"] } },
        description: "Whether to return all pages",
    },
    {
        displayName: "Limit",
        name: "limit",
        type: "number",
        typeOptions: { minValue: 1 },
        default: 50,
        displayOptions: { show: { resource: ["row"], operation: ["getAll"], returnAll: [false] } },
        description: "Max number of records to return",
    },
    {
        displayName: "Record Options",
        name: "recordOptions",
        type: "collection",
        placeholder: "Add option",
        default: {},
        displayOptions: { show: { resource: ["row"], operation: ["get", "getAll"] } },
        options: [
            {
                displayName: "Fields",
                name: "fields",
                type: "multiOptions",
                default: [],
                description: "Select fields to return",
                typeOptions: {
                    loadOptionsMethod: "getFields",
                    loadOptionsDependsOn: ["tableId"],
                },
            },
            {
                displayName: "Sort",
                name: "sort",
                type: "fixedCollection",
                placeholder: "Add Sort",
                typeOptions: { multipleValues: true },
                default: {},
                options: [
                    {
                        name: "sortFields",
                        displayName: "Sort Fields",
                        values: [
                            {
                                displayName: "Field",
                                name: "field",
                                type: "options",
                                default: "",
                                typeOptions: {
                                    loadOptionsMethod: "getFields",
                                    loadOptionsDependsOn: ["tableId"],
                                },
                            },
                            {
                                displayName: "Direction",
                                name: "direction",
                                type: "options",
                                default: "asc",
                                options: [
                                    { name: "Ascending", value: "asc" },
                                    { name: "Descending", value: "desc" },
                                ],
                            },
                        ],
                    },
                ],
            },
            {
                displayName: "Expand Relations",
                name: "expandRelations",
                type: "boolean",
                default: false,
                description: "If enabled, all link fields are expanded and embedded into the response",
            },
            {
                displayName: "Page",
                name: "page",
                type: "number",
                default: 1,
                typeOptions: { minValue: 1 },
            },
        ],
    },
    {
        displayName: "Filter Groups",
        name: "filterGroups",
        type: "fixedCollection",
        placeholder: "Add Filter Group",
        typeOptions: { multipleValues: true },
        default: {},
        description: "Conditions inside a group use AND/OR; groups are OR-ed together",
        displayOptions: { show: { resource: ["row"], operation: ["getAll", "count"] } },
        options: [
            {
                name: "groups",
                displayName: "Groups",
                values: [
                    {
                        displayName: "Logic Between Conditions",
                        name: "logic",
                        type: "options",
                        default: "and",
                        options: [
                            { name: "AND", value: "and" },
                            { name: "OR", value: "or" },
                        ],
                    },
                    {
                        displayName: "Conditions",
                        name: "conditions",
                        type: "fixedCollection",
                        typeOptions: { multipleValues: true },
                        default: {},
                        options: [
                            {
                                name: "condition",
                                displayName: "Condition",
                                values: [
                                    {
                                        displayName: "Field",
                                        name: "field",
                                        type: "options",
                                        default: "",
                                        typeOptions: {
                                            loadOptionsMethod: "getFields",
                                            loadOptionsDependsOn: ["tableId"],
                                        },
                                    },
                                    {
                                        displayName: "Operator",
                                        name: "operator",
                                        type: "options",
                                        default: "eq",
                                        options: [
                                            { name: "Equals", value: "eq" },
                                            { name: "Not Equals", value: "neq" },
                                            { name: "Greater Than", value: "gt" },
                                            { name: "Greater or Equal", value: "ge" },
                                            { name: "Less Than", value: "lt" },
                                            { name: "Less or Equal", value: "le" },
                                            { name: "Contains", value: "contains" },
                                            { name: "Does Not Contain", value: "not_contains" },
                                            { name: "Starts With", value: "starts_with" },
                                            { name: "Ends With", value: "ends_with" },
                                        ],
                                    },
                                    {
                                        displayName: "Value",
                                        name: "value",
                                        type: "string",
                                        default: "",
                                    },
                                ],
                            },
                        ],
                    },
                ],
            },
        ],
    },
];
